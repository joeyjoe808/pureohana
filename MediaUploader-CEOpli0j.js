import{r as i,j as e,A as j,i as w}from"./index-BZafi1pq.js";import{F as N}from"./FileUploader-Ck5VAWEE.js";import{C as U}from"./check-circle-D4RSxU1c.js";import{F as V}from"./film-CdujXIB_.js";const L=({onUploadComplete:n,folder:g="uploads",mediaTypes:r=["image","video"],initialMediaType:p="image",buttonText:h})=>{const[s,c]=i.useState(p),[a,m]=i.useState(""),[d,x]=i.useState(!1),[l,u]=i.useState({show:!1,type:"success",message:""}),b=t=>{n(t,s),o("success",`${s==="image"?"Image":"Video"} uploaded successfully`)},f=()=>{if(!a){o("error","Please enter a video URL");return}try{new URL(a),n(a,"video"),m(""),x(!1),o("success","Video URL added successfully")}catch{o("error","Please enter a valid URL")}},o=(t,v)=>{u({show:!0,type:t,message:v}),setTimeout(()=>{u({show:!1,type:"success",message:""})},3e3)},y=()=>s==="image"?["image/*"]:["video/*"];return e.jsxs("div",{className:"space-y-4",children:[l.show&&e.jsxs("div",{className:`p-3 rounded-md text-sm flex items-start ${l.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:[l.type==="success"?e.jsx(U,{size:16,className:"mr-2 flex-shrink-0 mt-0.5"}):e.jsx(j,{size:16,className:"mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:l.message})]}),r.length>1&&e.jsxs("div",{className:"flex space-x-2 mb-4",children:[r.includes("image")&&e.jsxs("button",{type:"button",onClick:()=>c("image"),className:`px-3 py-1.5 rounded text-sm flex items-center ${s==="image"?"bg-yellow-400 text-slate-900":"bg-slate-700 text-white hover:bg-slate-600"}`,children:[e.jsx(w,{size:16,className:"mr-1"}),"Image"]}),r.includes("video")&&e.jsxs("button",{type:"button",onClick:()=>c("video"),className:`px-3 py-1.5 rounded text-sm flex items-center ${s==="video"?"bg-yellow-400 text-slate-900":"bg-slate-700 text-white hover:bg-slate-600"}`,children:[e.jsx(V,{size:16,className:"mr-1"}),"Video"]})]}),s==="image"||!d?e.jsx(N,{onUploadComplete:b,onUploadError:t=>o("error",t.message),folder:`${g}/${s}s`,fileTypes:y(),maxSizeMB:s==="image"?5:100,buttonText:h||`Upload ${s==="image"?"Image":"Video"}`}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"Video URL (YouTube, Vimeo, or direct link)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:a,onChange:t=>m(t.target.value),placeholder:"https://...",className:"flex-grow px-4 py-2 bg-slate-700 border border-slate-600 rounded-l focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white"}),e.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 bg-yellow-400 text-slate-900 rounded-r hover:bg-yellow-500 transition-colors",children:"Add"})]})]}),s==="video"&&e.jsx("button",{type:"button",onClick:()=>x(!d),className:"text-sm text-yellow-400 hover:text-yellow-300 transition-colors",children:d?"Upload video file instead":"Enter video URL instead"})]})};export{L as M};
