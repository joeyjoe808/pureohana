import{r as n,j as e,S as k,a as u,L as g,N as _}from"./index-BZafi1pq.js";import{A,C as E}from"./ContactCTA-Bj96q4vB.js";import{a as f,b as z,c as R,s as F}from"./blogService-B0fKfd81.js";import{m as l}from"./proxy-yB7cGQHb.js";import{C as y}from"./clock-DN9Yg3YM.js";const D=()=>{const[o,j]=n.useState(""),[i,p]=n.useState("all"),[c,b]=n.useState([]),[m,r]=n.useState([]),[x,N]=n.useState([{id:0,name:"all",label:"All Posts"},{id:1,name:"tips",label:"Photography Tips"},{id:2,name:"locations",label:"Locations"},{id:3,name:"culture",label:"Hawaiian Culture"},{id:4,name:"events",label:"Special Events"}]),[v,d]=n.useState(!0);n.useEffect(()=>{(async()=>{d(!0);try{const s=await f(),a=await z();b(s),r(s),a.length>0&&N([{id:0,name:"all",label:"All Posts"},...a])}catch(s){console.error("Error fetching blog data:",s)}finally{d(!1)}})()},[]),n.useEffect(()=>{if(o===""&&i==="all"){r(c);return}const t=c.filter(s=>(i==="all"||s.category===i)&&(o===""||s.title.toLowerCase().includes(o.toLowerCase())||s.excerpt.toLowerCase().includes(o.toLowerCase())));r(t)},[o,i,c]);const w=async t=>{p(t),d(!0);try{if(t==="all"){const s=await f();r(s)}else{const s=await R(t);r(s)}}catch(s){console.error("Error fetching posts by category:",s)}finally{d(!1)}},C=async t=>{const s=t.target.value;if(j(s),s.length>2){d(!0);try{const a=await F(s);r(a)}catch(a){console.error("Error searching posts:",a)}finally{d(!1)}}else if(s.length===0)if(i==="all")r(c);else{const a=c.filter(h=>h.category===i);r(a)}},S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},P={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},L=()=>{var a;if(!m||m.length===0)return null;const t=m[0];if(!t)return null;const s=(a=x.find(h=>h.name===t.category))==null?void 0:a.label;return e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:e.jsxs("div",{className:"relative group overflow-hidden rounded-lg",children:[e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-96 object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[e.jsxs("div",{className:"flex items-center mb-3 text-sm",children:[s&&e.jsx("span",{className:"bg-yellow-400 text-slate-900 px-3 py-1 rounded text-xs font-semibold mr-3",children:s}),e.jsxs("div",{className:"flex items-center text-gray-400 mr-4",children:[e.jsx(u,{size:14,className:"mr-1"}),t.created_at]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(y,{size:14,className:"mr-1"}),t.read_time]})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-3 text-white group-hover:text-yellow-400 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-300 mb-4 line-clamp-2 md:line-clamp-3",children:t.excerpt}),e.jsx("div",{className:"flex items-center",children:t.author&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.author.image_url,alt:t.author.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),e.jsx("span",{className:"text-gray-400",children:t.author.name})]})})]})]})})};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"relative pt-32 pb-20 bg-slate-950",children:[e.jsxs("div",{className:"absolute inset-0 z-0 opacity-80",children:[e.jsx("img",{src:"https://images.pexels.com/photos/3894874/pexels-photo-3894874.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Hawaiian family",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-slate-950/40"})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs(l.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-3xl",children:[e.jsx("div",{className:"bg-yellow-400 inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-slate-900",children:"OUR JOURNAL"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:"FAMILY PHOTOGRAPHY INSIGHTS"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Explore our collection of articles on family photography, Hawaiian culture, and tips for creating beautiful memories on the islands."})]})})]}),e.jsx("section",{className:"py-20 bg-slate-900",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[e.jsxs("div",{className:"lg:w-2/3",children:[e.jsx(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search articles...",value:o,onChange:C,className:"w-full px-5 py-4 pl-12 bg-slate-800 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white"}),e.jsx(k,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]})}),v?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx("div",{className:"flex space-x-2",children:[1,2,3].map(t=>e.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full animate-pulse",style:{animationDelay:`${t*.15}s`}},t))})}):e.jsxs(e.Fragment,{children:[L(),e.jsx(l.div,{variants:S,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:m.slice(1).map(t=>{var s;return e.jsxs(l.div,{variants:P,className:"bg-slate-800 rounded-lg overflow-hidden group",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-full h-60 object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute top-3 left-3",children:t.category&&e.jsx("span",{className:"bg-yellow-400 text-slate-900 px-3 py-1 rounded text-xs font-semibold",children:((s=x.find(a=>a.name===t.category))==null?void 0:s.label)||t.category})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-3 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx(u,{size:14,className:"mr-1"}),t.created_at]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{size:14,className:"mr-1"}),t.read_time]})]}),e.jsx("h3",{className:"text-xl font-bold mb-3 text-white group-hover:text-yellow-400 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-400 mb-4 line-clamp-3",children:t.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[t.author&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:t.author.image_url,alt:t.author.name,className:"w-8 h-8 rounded-full mr-2 object-cover"}),e.jsx("span",{className:"text-sm text-gray-400",children:t.author.name})]}),e.jsxs(g,{to:`/blog/${t.slug}`,className:"text-yellow-400 flex items-center text-sm group-hover:text-yellow-300 transition-colors",children:["Read More",e.jsx(A,{size:14,className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},t.id)})}),m.length===0&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[e.jsx("div",{className:"text-4xl text-gray-600 mb-4",children:"🔍"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No posts found"}),e.jsx("p",{className:"text-gray-400",children:"Try adjusting your search or filter to find what you're looking for."})]})]})]}),e.jsxs("div",{className:"lg:w-1/3",children:[e.jsxs(l.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-slate-800 rounded-lg p-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Categories"}),e.jsx("ul",{className:"space-y-2",children:x.map(t=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>w(t.name),className:`w-full text-left px-3 py-2 rounded transition-colors flex items-center justify-between ${i===t.name?"bg-yellow-400 text-slate-900 font-medium":"text-gray-400 hover:bg-slate-700 hover:text-white"}`,children:[t.label,i===t.name&&e.jsx("svg",{className:"w-4 h-4\\",fill:"none\\",stroke:"currentColor\\",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round\\",strokeLinejoin:"round\\",strokeWidth:"2\\",d:"M5 13l4 4L19 7"})})]})},t.name))})]}),e.jsxs(l.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"bg-slate-800 rounded-lg p-6 mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Recent Posts"}),e.jsx("div",{className:"space-y-4",children:c.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("img",{src:t.featured_image,alt:t.title,className:"w-16 h-16 object-cover rounded mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx(g,{to:`/blog/${t.slug}`,className:"text-white font-medium hover:text-yellow-400 transition-colors line-clamp-2 text-sm",children:t.title}),e.jsx("div",{className:"text-gray-400 text-xs mt-1",children:t.created_at})]})]},t.id))})]}),e.jsxs(l.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5},className:"bg-slate-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Subscribe to Our Newsletter"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get the latest family photography tips and special offers delivered to your inbox."}),e.jsx(_,{location:"blog_sidebar",buttonText:"Subscribe"})]})]})]})})}),e.jsx(E,{})]})};export{D as default};
